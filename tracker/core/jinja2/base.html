
<!DOCTYPE html>
<html lang="en">
<head>
    {% block title %}<title>RSS</title>{% endblock %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <script src="https://unpkg.com/htmx.org"></script>       --> 
    <script src="{{ static('htmx.min.js') }}"></script>      
    <script src="https://unpkg.com/alpinejs" defer></script> 
    <script src="https://unpkg.com/htmx.org/dist/ext/ws.js" defer></script> 
    <script src="{{static('bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js')}}">   </script>
    <link rel="stylesheet" href="{{ static('bootstrap-5.1.3-dist/css/bootstrap.min.css') }}">
    <style>
      {% include "site.css" %}
    </style>
</head>
<body>
  <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">{{ _("PM") }}</span>
      <div>
        {% block header_menu %}<!-- insert default navigation text for every page -->{% endblock %}
      </div>
      <a href="{{ url("core:_logout")}}" class="btn link-light btn-link">{{ _("logout") }}</a>
    </div>
  </nav>
  <main class="container-fluid">
      <!--<div hx-ext="ws" ws-connect="/ws/rss/" > -->
    <div id="modal-container"></div>
    <div class="row">
        <div class="col-sm-12 col-md-3">
            {% if request.user.is_authenticated %}
             {% block sidebar %}{% endblock %}
            {%endif %}
        </div>
        <div class="col-sm-12 col-md-9">
            <div  id="content" >
                {% block content %}{% endblock %}
            </div>
        </div>
    </div>
  </main>
  <div id="ws-scripts"> </div>
  <script>
    const csrf_token =  '{{ csrf_token }}';
    const headers =   {  'X-CSRFToken' : csrf_token};
    const GET = async (url, body) => {
        return await fetch( url, {headers  , body : JSON.stringify(body)});
    };
    const PUT = async (url, body) => {
        return await fetch( url, {method: "PUT", headers , body : JSON.stringify(body)});
    };
    const POST = async (url, body) => {
        return await fetch( url, {method: "POST",headers , body : JSON.stringify(body)});
    };
    const DELETE = async (url, body) => {
        return await fetch( url, {method: "DELETE",headers , body : JSON.stringify(body)});
    };
    document.body.addEventListener('htmx:configRequest', (event) => {
      event.detail.headers['X-CSRFToken'] = csrf_token;
    });
    const setClipboard = (text) => {
        const type = "text/plain";
        const blob = new Blob([text], { type });
        const data = [new ClipboardItem({ [type]: blob })];
        navigator.clipboard.write(data);
    };
    if (typeof window.htmx !== "undefined") {
        htmx.on("htmx:afterSettle", function(detail) {
            if (
                typeof window.djdt !== "undefined"
                && detail.target instanceof HTMLBodyElement
            ) {
                djdt.show_toolbar();
            }
        });
    }
    {% block scripts %}


    {% endblock %}
  </script>
</body>
</html>
