{% if  standalone %} {% extends "base.html" %} {% endif %}

{% block content%}

<div id="main-content" >
    <div id="smart_input" x-data>
        <p style="font-size: 0.8em" class="text-secondary mb-0">
            {{Project.describe_links()}}
        </p>
        <script >
            const get_new_projects = event=>{
                if (event.detail.requestConfig.verb  == "post"){
                    window.clear_ui_state()
                    document.dispatchEvent(new Event("reloadProjects"))
                }
            }
        </script>
        <div hx-on::after-request="get_new_projects(event)">
            <div hx-trigger="load"
                 hx-swap="outerHTML"
                 hx-get="{{url("core:create_from_parsed", kwargs={"attr" :"name", "m" : "project.Project"})}}">
            </div>
        </div>
    </div>

    <div hx-trigger="load, reloadProjects from:document" 
         hx-get="{{url("core:rest", kwargs={"m":"project.Project"})}}">
    </div>

</div>



{%endblock%}
